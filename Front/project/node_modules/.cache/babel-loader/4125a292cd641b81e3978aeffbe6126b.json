{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Milos\\\\Documents\\\\FAKULTET\\\\3 godina\\\\6_semestar\\\\RVA\\\\PROJECT\\\\Front\\\\project\\\\src\\\\users\\\\SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport { forwardRef, useImperativeHandle, useRef, useContext } from 'react';\nimport swal from 'sweetalert';\nimport Input from '../UI/Input';\nimport Button from '../UI/Button';\nimport styles from './SearchBar.module.css';\nimport useHttp from '../hooks/use-http';\nimport AuthContext from '../auth/store/auth-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchBar = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s(props => {\n  _s();\n\n  const searchRefName = useRef();\n  const searchRefSurname = useRef();\n  const http = useHttp();\n  const authCtx = useContext(AuthContext);\n  let {\n    sendRequest\n  } = http;\n  let {\n    token\n  } = authCtx;\n\n  const searchSuccess = data => {\n    if (data.people.length === 0) {\n      swal('Oops', 'No data was found!', 'warning');\n      return;\n    }\n\n    props.searchResults(data);\n  };\n\n  const searchFail = errorMessage => {\n    swal('Oops', errorMessage || 'No data was found!', 'warning');\n  };\n\n  const searchHandler = () => {\n    let name = searchRefName.current.value.trim().split(' ')[0];\n    let surname = searchRefSurname.current.value.trim().split(' ')[0];\n    let requestConfig = {\n      url: 'http://localhost:5000/api/person/search?' + `name=${encodeURI(name !== null && name !== void 0 ? name : '')}&surname=${encodeURI(surname !== null && surname !== void 0 ? surname : '')}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      method: 'GET'\n    };\n    sendRequest(requestConfig, searchSuccess, searchFail);\n    searchRefName.current.value = '';\n    searchRefSurname.current.value = '';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.searchDiv,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      ref: searchRefName,\n      label: '',\n      additionalStylesLabel: styles.searchLabel,\n      additionalStylesInput: styles.searchInput,\n      placeholder: 'Name'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), ' ', /*#__PURE__*/_jsxDEV(Input, {\n      ref: searchRefSurname,\n      label: '',\n      additionalStylesLabel: styles.searchLabel,\n      additionalStylesInput: styles.searchInput,\n      placeholder: 'Surname'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      buttonHandler: searchHandler,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}, \"7T6jQN5P+tk7DlBHc4ZILW91q3k=\", false, function () {\n  return [useHttp];\n})), \"7T6jQN5P+tk7DlBHc4ZILW91q3k=\", false, function () {\n  return [useHttp];\n});\n\n_c2 = SearchBar;\nexport default SearchBar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SearchBar$forwardRef\");\n$RefreshReg$(_c2, \"SearchBar\");","map":{"version":3,"names":["forwardRef","useImperativeHandle","useRef","useContext","swal","Input","Button","styles","useHttp","AuthContext","SearchBar","props","searchRefName","searchRefSurname","http","authCtx","sendRequest","token","searchSuccess","data","people","length","searchResults","searchFail","errorMessage","searchHandler","name","current","value","trim","split","surname","requestConfig","url","encodeURI","headers","Authorization","method","searchDiv","searchLabel","searchInput"],"sources":["C:/Users/Milos/Documents/FAKULTET/3 godina/6_semestar/RVA/PROJECT/Front/project/src/users/SearchBar.js"],"sourcesContent":["import { forwardRef, useImperativeHandle, useRef, useContext } from 'react';\r\n\r\nimport swal from 'sweetalert';\r\n\r\nimport Input from '../UI/Input';\r\nimport Button from '../UI/Button';\r\nimport styles from './SearchBar.module.css';\r\nimport useHttp from '../hooks/use-http';\r\nimport AuthContext from '../auth/store/auth-context';\r\n\r\nconst SearchBar = forwardRef((props) => {\r\n  const searchRefName = useRef();\r\n  const searchRefSurname = useRef();\r\n  const http = useHttp();\r\n  const authCtx = useContext(AuthContext);\r\n  let { sendRequest } = http;\r\n  let { token } = authCtx;\r\n\r\n  const searchSuccess = (data) => {\r\n    if (data.people.length === 0) {\r\n      swal('Oops', 'No data was found!', 'warning');\r\n      return;\r\n    }\r\n\r\n    props.searchResults(data)\r\n  };\r\n\r\n  const searchFail = (errorMessage) => {\r\n    swal('Oops', errorMessage || 'No data was found!', 'warning');\r\n  };\r\n\r\n  const searchHandler = () => {\r\n    let name = searchRefName.current.value.trim().split(' ')[0];\r\n    let surname = searchRefSurname.current.value.trim().split(' ')[0];\r\n\r\n    let requestConfig = {\r\n      url:\r\n        'http://localhost:5000/api/person/search?' +\r\n        `name=${encodeURI(name ?? '')}&surname=${encodeURI(surname ?? '')}`,\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      method: 'GET',\r\n    };\r\n    sendRequest(requestConfig, searchSuccess, searchFail);\r\n    searchRefName.current.value = '';\r\n    searchRefSurname.current.value = '';\r\n  };\r\n\r\n  return (\r\n    <div className={styles.searchDiv}>\r\n      <Input\r\n        ref={searchRefName}\r\n        label={''}\r\n        additionalStylesLabel={styles.searchLabel}\r\n        additionalStylesInput={styles.searchInput}\r\n        placeholder={'Name'}\r\n      ></Input>{' '}\r\n      <Input\r\n        ref={searchRefSurname}\r\n        label={''}\r\n        additionalStylesLabel={styles.searchLabel}\r\n        additionalStylesInput={styles.searchInput}\r\n        placeholder={'Surname'}\r\n      ></Input>\r\n      <Button buttonHandler={searchHandler}>Search</Button>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}