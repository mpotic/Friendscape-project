{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useReducer } from 'react';\nconst initialState = {\n  value: '',\n  hasError: false,\n  errorMessage: ''\n};\n\nconst validationReducer = (state, action) => {\n  if (action.type === 'INPUT') {\n    return { ...state,\n      value: action.value.trim(),\n      hasError: false\n    };\n  } else if (action.type === 'BLUR') {\n    const {\n      isValid,\n      errorMessage\n    } = action.validate(state.value);\n    return { ...state,\n      hasError: !isValid,\n      errorMessage\n    };\n  } else if (action.type === 'FOCUS') {\n    return { ...state,\n      hasError: false,\n      errorMessage: ''\n    };\n  } else if (action.type === 'RESET') {}\n};\n\nconst useInputValidation = validate => {\n  _s();\n\n  const [inputState, inputValidation] = useReducer(validationReducer, initialState); //if validate function is not defined the input field  will always be interpreted as having a valid state and no errorMessage will be shown\n\n  if (!validate) {\n    validate = () => {\n      return {\n        isValid: true,\n        errorMessage: ''\n      };\n    };\n  }\n\n  const onChangeHandler = event => {\n    inputValidation({\n      type: 'INPUT',\n      value: event.target.value\n    });\n  };\n\n  const onBlurHandler = event => {\n    inputValidation({\n      type: 'BLUR',\n      validate\n    });\n  };\n\n  const onFocusHandler = event => {\n    inputValidation({\n      type: 'FOCUS'\n    });\n  };\n\n  return {\n    value: inputState.value,\n    hasError: inputState.hasError,\n    errorMessage: inputState.errorMessage,\n    onChangeHandler,\n    onBlurHandler,\n    onFocusHandler\n  };\n};\n\n_s(useInputValidation, \"1bMtjWelVIiZwZKiTQO0WmmE3DM=\");\n\nexport default useInputValidation;","map":{"version":3,"names":["useReducer","initialState","value","hasError","errorMessage","validationReducer","state","action","type","trim","isValid","validate","useInputValidation","inputState","inputValidation","onChangeHandler","event","target","onBlurHandler","onFocusHandler"],"sources":["C:/Users/Milos/Documents/FAKULTET/3 godina/6_semestar/RVA/PROJECT/Front/project/src/hooks/validate-input.js"],"sourcesContent":["import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  value: '',\r\n  hasError: false,\r\n  errorMessage: '',\r\n};\r\n\r\nconst validationReducer = (state, action) => {\r\n  if (action.type === 'INPUT') {\r\n    return { ...state, value: action.value.trim(), hasError: false };\r\n  } else if (action.type === 'BLUR') {\r\n    const { isValid, errorMessage } = action.validate(state.value);\r\n    return { ...state, hasError: !isValid, errorMessage };\r\n  } else if (action.type === 'FOCUS') {\r\n    return { ...state, hasError: false, errorMessage: '' };\r\n  } else if (action.type === 'RESET') {\r\n  }\r\n};\r\n\r\nconst useInputValidation = (validate) => {\r\n  const [inputState, inputValidation] = useReducer(\r\n    validationReducer,\r\n    initialState\r\n  );\r\n\r\n  //if validate function is not defined the input field  will always be interpreted as having a valid state and no errorMessage will be shown\r\n  if (!validate) {\r\n    validate = () => {\r\n      return { isValid: true, errorMessage: '' };\r\n    };\r\n  }\r\n\r\n  const onChangeHandler = (event) => {\r\n    inputValidation({ type: 'INPUT', value: event.target.value });\r\n  };\r\n\r\n  const onBlurHandler = (event) => {\r\n    inputValidation({ type: 'BLUR', validate });\r\n  };\r\n\r\n  const onFocusHandler = (event) => {\r\n    inputValidation({ type: 'FOCUS' });\r\n  };\r\n\r\n  return {\r\n    value : inputState.value,\r\n    hasError: inputState.hasError,\r\n    errorMessage: inputState.errorMessage,\r\n    onChangeHandler,\r\n    onBlurHandler,\r\n    onFocusHandler,\r\n  };\r\n};\r\n\r\nexport default useInputValidation;\r\n"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,OAA3B;AAEA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EADY;EAEnBC,QAAQ,EAAE,KAFS;EAGnBC,YAAY,EAAE;AAHK,CAArB;;AAMA,MAAMC,iBAAiB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EAC3C,IAAIA,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B;IAC3B,OAAO,EAAE,GAAGF,KAAL;MAAYJ,KAAK,EAAEK,MAAM,CAACL,KAAP,CAAaO,IAAb,EAAnB;MAAwCN,QAAQ,EAAE;IAAlD,CAAP;EACD,CAFD,MAEO,IAAII,MAAM,CAACC,IAAP,KAAgB,MAApB,EAA4B;IACjC,MAAM;MAAEE,OAAF;MAAWN;IAAX,IAA4BG,MAAM,CAACI,QAAP,CAAgBL,KAAK,CAACJ,KAAtB,CAAlC;IACA,OAAO,EAAE,GAAGI,KAAL;MAAYH,QAAQ,EAAE,CAACO,OAAvB;MAAgCN;IAAhC,CAAP;EACD,CAHM,MAGA,IAAIG,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B;IAClC,OAAO,EAAE,GAAGF,KAAL;MAAYH,QAAQ,EAAE,KAAtB;MAA6BC,YAAY,EAAE;IAA3C,CAAP;EACD,CAFM,MAEA,IAAIG,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B,CACnC;AACF,CAVD;;AAYA,MAAMI,kBAAkB,GAAID,QAAD,IAAc;EAAA;;EACvC,MAAM,CAACE,UAAD,EAAaC,eAAb,IAAgCd,UAAU,CAC9CK,iBAD8C,EAE9CJ,YAF8C,CAAhD,CADuC,CAMvC;;EACA,IAAI,CAACU,QAAL,EAAe;IACbA,QAAQ,GAAG,MAAM;MACf,OAAO;QAAED,OAAO,EAAE,IAAX;QAAiBN,YAAY,EAAE;MAA/B,CAAP;IACD,CAFD;EAGD;;EAED,MAAMW,eAAe,GAAIC,KAAD,IAAW;IACjCF,eAAe,CAAC;MAAEN,IAAI,EAAE,OAAR;MAAiBN,KAAK,EAAEc,KAAK,CAACC,MAAN,CAAaf;IAArC,CAAD,CAAf;EACD,CAFD;;EAIA,MAAMgB,aAAa,GAAIF,KAAD,IAAW;IAC/BF,eAAe,CAAC;MAAEN,IAAI,EAAE,MAAR;MAAgBG;IAAhB,CAAD,CAAf;EACD,CAFD;;EAIA,MAAMQ,cAAc,GAAIH,KAAD,IAAW;IAChCF,eAAe,CAAC;MAAEN,IAAI,EAAE;IAAR,CAAD,CAAf;EACD,CAFD;;EAIA,OAAO;IACLN,KAAK,EAAGW,UAAU,CAACX,KADd;IAELC,QAAQ,EAAEU,UAAU,CAACV,QAFhB;IAGLC,YAAY,EAAES,UAAU,CAACT,YAHpB;IAILW,eAJK;IAKLG,aALK;IAMLC;EANK,CAAP;AAQD,CAjCD;;GAAMP,kB;;AAmCN,eAAeA,kBAAf"},"metadata":{},"sourceType":"module"}